<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sankey Diagram</title>
    <!-- Highcharts Library -->
    <script src="https://code.highcharts.com/highcharts.js"></script>
    <script src="https://code.highcharts.com/modules/sankey.js"></script>
    <!-- Accessibility module (optional) -->
    <script src="https://code.highcharts.com/modules/accessibility.js"></script>
</head>
<body>
    <div id="container" style="width: 100%; height: 600px;"></div>
    <script>
        Highcharts.chart('container', {
        
            title: {
                text: 'Potential Revenue Contributions to the Cali Fund (USD mn)'
            },
            subtitle: {
                text:
              'Source: Planet Tracker Analysis using FactSet data'
            },
            accessibility: {
                point: {
                    valueDescriptionFormat: '{index}. {point.from} to {point.to}, ' +
                        '{point.weight}.'
                }
            },
            tooltip: {
                headerFormat: null,
                pointFormat:
              '{point.fromNode.name} \u2192 {point.toNode.name}: {point.weight:,} ' +
              'USD mn',
                nodeFormat: '{point.name}: {point.sum:.2f} USD mn'
            },
            series: [{
                keys: ['from', 'to', 'weight'],
        
                nodes: [
                    {
                        id: 'OECD',
                        color: '#5a7f81'
                    },
                    {
                        id: 'ROW',
                        color: '#f5cfa3'
                    },
                    {
                        id: 'Ratified',
                        color: '#70c0b6'
                    },
                    {
                        id: 'Non-Signatory',
                        color: '#f18b71'
                    },
                    {
                        id: 'Pharmaceuticals & Food Supplements',
                        color: '#445f71' // same colour for all sectors
                    },
                    {
                        id: 'Laboratory Equipment',
                        color: '#445f71'
                    },
                    {
                        id: 'Cosmetics',
                        color: '#445f71'
                    },
                    {
                        id: 'Animal and Planet Breeding Biotechnology, Life Sciences',
                        color: '#445f71'
                    }
                ],
        
                data: [
                    ['OECD', 'Ratified', 1358],
                    ['OECD', 'Non-Signatory', 1819],
                    ['ROW', 'Ratified', 828],
                    // connecting Ratified to sectors
                    ['Ratified', 'Pharmaceuticals & Food Supplements', 1166],
                    ['Ratified', 'Laboratory Equipment', 748],
                    ['Ratified', 'Cosmetics', 231],
                    ['Ratified', 'Animal and Planet Breeding Biotechnology, Life Sciences', 41],
                    // connecting non-signatory to sectors
                    ['Non-Signatory', 'Pharmaceuticals & Food Supplements', 1202],
                    ['Non-Signatory', 'Laboratory Equipment', 339],
                    ['Non-Signatory', 'Cosmetics', 217],
                    ['Non-Signatory', 'Animal and Planet Breeding Biotechnology, Life Sciences', 62]
        
                ],
                type: 'sankey',
                name: 'Sankey demo series'
            }]
        
        });
    </script>
</body>
</html>
